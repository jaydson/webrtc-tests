<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>WebRTC</title>
	<style>
		#container {
			border : solid 1px;
			width: 800px;
			height: 600px;
		}
	</style>
</head>
<body>
	<div id="container">
		<video autoplay></video>
	</div>
	<script>
		navigator.getMedia = ( navigator.getUserMedia ||
		navigator.webkitGetUserMedia ||
		navigator.mozGetUserMedia ||
		navigator.msGetUserMedia);
		window.URL = window.URL || window.webkitURL;

		navigator.getMedia ({
			video: true,
			audio: true
		},

		// successCallback
		function(localMediaStream) {
			var video = document.querySelector('video');
			video.src = window.URL.createObjectURL(localMediaStream);
			video.onloadedmetadata = function(e) {
				console.log('load media');
		 		video.play();
			};
		},

		// errorCallback
		function(err) {
			console.log("The following error occured: ", err);
		}
	);
	</script>
</body>
</html>